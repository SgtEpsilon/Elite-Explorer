/* ─── DESIGN TOKENS ─────────────────────────────────────────────── */
:root {
  --bg:         #05080d;
  --bg2:        #070b12;
  --panel:      #090e18;
  --panel2:     #0c1220;
  --border:     #132030;
  --border2:    #1c3048;
  --gold:       #c8972a;
  --gold2:      #e8b840;
  --gold-dim:   #7a5a10;
  --gold-glow:  rgba(200,151,42,0.15);
  --cyan:       #2ecfcf;
  --cyan2:      #5ee8e8;
  --cyan-dim:   rgba(46,207,207,0.1);
  --red:        #e05252;
  --green:      #3dbd7a;
  --purple:     #9b6fd4;
  --text:       #c8d8e8;
  --text-dim:   #5a7898;
  --text-mute:  #2a4058;
  --mono:       'Share Tech Mono', monospace;
  --display:    'Orbitron', sans-serif;
  --head:       'Rajdhani', sans-serif;
  --body:       'Exo 2', sans-serif;
}
* { box-sizing: border-box; margin: 0; padding: 0; }
html, body { width: 100%; height: 100vh; background: var(--bg); color: var(--text); font-family: var(--body); font-size:1em; overflow: hidden; }
body::after { content: ''; position: fixed; inset: 0; background: repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(0,0,0,0.04) 2px, rgba(0,0,0,0.04) 4px); pointer-events: none; z-index: 9999; }

/* ─── TOPBAR ─────────────────────────────────────────────────────── */
#topbar { display: flex; align-items: center; height: 44px; border-bottom: 1px solid var(--border); background: var(--panel); padding: 0 14px; gap: 10px; flex-shrink: 0; position: relative; z-index: 100; }
.tb-logo { font-family: var(--display); font-size:0.8333em; font-weight: 500; letter-spacing: 0.2em; color: var(--gold); text-shadow: 0 0 16px var(--gold-glow); white-space: nowrap; margin-right: 6px; }
.tb-sep { width: 1px; height: 20px; background: var(--border2); margin: 0 4px; }
.tb-cmdr { font-family: var(--mono); font-size:0.8333em; color: var(--cyan); letter-spacing: 0.08em; white-space: nowrap; }
.tb-sys { font-family: var(--mono); font-size:0.8333em; color: var(--text-dim); letter-spacing: 0.05em; }
.tab-nav { display: flex; align-items: center; gap: 2px; margin-left: auto; }
.tab-btn { font-family: var(--mono); font-size:0.75em; letter-spacing: 0.12em; text-transform: uppercase; color: var(--text-mute); background: transparent; border: 1px solid transparent; padding: 4px 12px; cursor: pointer; transition: all 0.18s; }
.tab-btn:hover { color: var(--text-dim); border-color: var(--border2); }
.tab-btn.active { color: var(--cyan); border-color: rgba(46,207,207,0.3); background: var(--cyan-dim); }
.tb-credits { font-family: var(--mono); font-size:0.9167em; color: var(--gold2); letter-spacing: 0.04em; margin-left: 10px; }
#options-btn { font-size:1.0833em; color: var(--text-mute); background: transparent; border: none; cursor: pointer; padding: 2px 4px; line-height: 1; transition: color 0.2s, transform 0.3s; flex-shrink: 0; margin-left: 6px; }
#options-btn:hover { color: var(--gold); transform: rotate(45deg); }

/* ─── VIEWS ──────────────────────────────────────────────────────── */
#view-live, #view-profile, #view-history { display: none; flex: 1; overflow: hidden; }
#view-live.active { display: grid; }
#view-profile.active { display: flex; flex-direction: column; overflow-y: auto; }
#view-history.active { display: flex; flex-direction: column; overflow-y: auto; }
#view-live { grid-template-columns: var(--left-w,220px) 1fr var(--right-w,320px); grid-template-rows: 1fr var(--bottom-h,120px); gap: 1px; background: var(--bg); }

/* ─── PANELS ─────────────────────────────────────────────────────── */
.panel { background: var(--panel); display: flex; flex-direction: column; overflow: hidden; }
.panel-header { display: flex; align-items: center; gap: 8px; padding: 7px 12px; border-bottom: 1px solid var(--border); flex-shrink: 0; }
.panel-header .label { font-family: var(--display); font-size:0.6667em; font-weight: 500; letter-spacing: 0.25em; color: var(--gold); text-transform: uppercase; }
.panel-header .accent-line { flex: 1; height: 1px; background: linear-gradient(to right, var(--border2), transparent); }
.panel-body { flex: 1; overflow-y: auto; padding: 10px; }
.panel-body::-webkit-scrollbar { width: 3px; }
.panel-body::-webkit-scrollbar-thumb { background: var(--border2); border-radius: 2px; }

/* ─── LEFT PANEL ─────────────────────────────────────────────────── */
#panel-commander { grid-column: 1; grid-row: 1 / 3; }
.stat-group { margin-bottom: 14px; }
.stat-group-title { font-family: var(--mono); font-size:0.75em; color: var(--text-mute); letter-spacing: 0.15em; text-transform: uppercase; margin-bottom: 6px; padding-bottom: 4px; border-bottom: 1px solid var(--border); }
.stat-row { display: flex; justify-content: space-between; align-items: baseline; padding: 3px 0; }
.stat-key { font-family: var(--mono); font-size:0.75em; color: var(--text-dim); letter-spacing: 0.05em; }
.stat-val { font-family: var(--mono); font-size:0.9167em; color: var(--text); text-align: right; }
.stat-val.highlight { color: var(--cyan); }
.stat-val.gold { color: var(--gold); }
.stat-val.green { color: var(--green); }
.stat-val.red { color: var(--red); }
.fuel-bar-wrap { margin-top: 4px; height: 4px; background: var(--border); border-radius: 2px; overflow: hidden; }
.fuel-bar-fill { height: 100%; background: linear-gradient(to right, var(--cyan-dim), var(--cyan)); border-radius: 2px; transition: width 0.5s ease; }
.type-badge { display: inline-block; font-family: var(--mono); font-size:0.6667em; padding: 1px 5px; border-radius: 1px; letter-spacing: 0.05em; }
.type-badge.station { background: rgba(46,207,207,0.1); color: var(--cyan); border: 1px solid rgba(46,207,207,0.3); }

/* ─── MIDDLE PANEL ───────────────────────────────────────────────── */
#panel-system { grid-column: 2; grid-row: 1; }
.bodies-table { width: 100%; border-collapse: collapse; }
.bodies-table th { font-family: var(--mono); font-size:0.6667em; color: var(--text-mute); letter-spacing: 0.12em; text-transform: uppercase; text-align: left; padding: 4px 8px; border-bottom: 1px solid var(--border); white-space: nowrap; position: sticky; top: 0; background: var(--panel); z-index: 10; }
.bodies-table td { font-family: var(--mono); font-size:0.8333em; color: var(--text); padding: 5px 8px; border-bottom: 1px solid rgba(19,32,48,0.5); vertical-align: top; line-height: 1.4; }
.bodies-table tr.body-main:hover td { background: rgba(46,207,207,0.04); }
.bodies-table tr.body-moon td { background: rgba(0,0,0,0.15); }
.bodies-table tr.body-moon:hover td { background: rgba(46,207,207,0.03); }
.body-name-cell { display: flex; align-items: center; gap: 6px; }
.body-indent { padding-left: 18px !important; }
.moon-indicator { display: inline-block; width: 1px; height: 12px; background: var(--border2); margin-right: 4px; margin-left: 8px; vertical-align: middle; }
.body-icon { width: 20px; height: 20px; border-radius: 50%; flex-shrink: 0; }
.body-icon.star { background: radial-gradient(circle at 35% 35%, #fff4cc, #f5a623 60%, #8a4a00); box-shadow: 0 0 8px rgba(245,166,35,0.5); }
.body-icon.hmc  { background: radial-gradient(circle at 35% 35%, #5e8fbf, #2a5a8a 60%, #0d1e33); box-shadow: 0 0 6px rgba(42,90,138,0.4); }
.body-icon.rocky{ background: radial-gradient(circle at 35% 35%, #8a7a6a, #5a4a3a 60%, #2a1a0a); }
.body-icon.gas  { background: radial-gradient(circle at 35% 35%, #c8a87a, #9a7040 60%, #4a3010); }
.body-icon.icy  { background: radial-gradient(circle at 35% 35%, #d0e8f5, #7ab0d0 60%, #2a5070); }
.body-icon.moon { background: radial-gradient(circle at 35% 35%, #7a7a7a, #4a4a4a 60%, #1a1a1a); width:14px; height:14px; }
.body-icon.station { background: rgba(46,207,207,0.1); border: 1px solid rgba(46,207,207,0.3); border-radius: 2px; width:16px; height:16px; }
.body-class { font-size:0.75em; color: var(--text-dim); }
.val-cell { text-align: right; color: var(--gold); }
.val-cell.muted { color: var(--text-dim); }
.info-text { font-size:0.75em; color: var(--text-dim); line-height: 1.5; max-width: 280px; }
.info-tag { display: inline-block; font-size:0.6667em; padding: 1px 4px; margin: 1px 1px 0 0; border-radius: 1px; background: rgba(200,151,42,0.08); color: var(--gold-dim); border: 1px solid rgba(200,151,42,0.2); }
.info-tag.poi    { background: rgba(46,207,207,0.08);  color: rgba(46,207,207,0.6);   border-color: rgba(46,207,207,0.2); }
.info-tag.bio    { background: rgba(76,175,125,0.08);  color: rgba(76,175,125,0.8);   border-color: rgba(76,175,125,0.25); }
.info-tag.geo    { background: rgba(200,151,42,0.08);  color: rgba(200,151,42,0.7);   border-color: rgba(200,151,42,0.2); }
.info-tag.human  { background: rgba(46,207,207,0.06);  color: rgba(46,207,207,0.5);   border-color: rgba(46,207,207,0.15); }
.info-tag.alien  { background: rgba(168,85,247,0.08);  color: rgba(168,85,247,0.75);  border-color: rgba(168,85,247,0.2); }
.info-tag.atm    { background: rgba(94,232,232,0.06);  color: rgba(94,232,232,0.5);   border-color: rgba(94,232,232,0.15); }
.info-tag.terra  { background: rgba(76,175,125,0.1);   color: rgba(76,175,125,0.9);   border-color: rgba(76,175,125,0.3); }
.info-tag.disco  { background: rgba(200,151,42,0.12);  color: var(--gold);            border-color: rgba(200,151,42,0.35); }
.info-tag.mapped { background: rgba(46,207,207,0.10);  color: var(--cyan);            border-color: rgba(46,207,207,0.3); }

/* ─── RIGHT PANEL ────────────────────────────────────────────────── */
#panel-scan { grid-column: 3; grid-row: 1; }
.scan-total-bar { display: flex; justify-content: space-between; align-items: center; padding: 6px 10px; background: var(--panel2); border-bottom: 1px solid var(--border); flex-shrink: 0; }
.scan-total-label { font-family: var(--mono); font-size:0.6667em; color: var(--text-mute); letter-spacing: 0.1em; }
.scan-total-val { font-family: var(--mono); font-size:1.0833em; color: var(--gold); text-shadow: 0 0 8px var(--gold-glow); }
.scan-table { width: 100%; border-collapse: collapse; }
.scan-table th { font-family: var(--mono); font-size:0.6667em; color: var(--text-mute); letter-spacing: 0.1em; padding: 3px 6px; text-align: left; border-bottom: 1px solid var(--border); position: sticky; top: 0; background: var(--panel); }
.scan-table td { font-family: var(--mono); font-size:0.75em; color: var(--text); padding: 4px 6px; border-bottom: 1px solid rgba(19,32,48,0.4); vertical-align: middle; }
.scan-table tr:hover td { background: rgba(46,207,207,0.03); }
.mapped-icon { display: inline-block; width: 8px; height: 8px; border-radius: 50%; vertical-align: middle; }
.mapped-icon.yes { background: var(--green); box-shadow: 0 0 4px var(--green); }
.mapped-icon.no  { background: var(--border2); }
.scan-val { color: var(--gold); text-align: right; }

/* ─── BOTTOM PANELS ──────────────────────────────────────────────── */
#panel-progress { grid-column: 2; grid-row: 2; background: var(--panel); border-top: 1px solid var(--border); display: flex; flex-direction: column; }
.progress-track { height: 2px; background: var(--border); flex-shrink: 0; }
.progress-fill { height: 100%; background: linear-gradient(to right, var(--cyan-dim), var(--cyan)); width: 0%; transition: width 0.3s ease; }
.progress-info { font-family: var(--mono); font-size:0.75em; color: var(--text-dim); padding: 4px 10px 0; flex-shrink: 0; }
#panel-log { grid-column: 3; grid-row: 2; }
#log-entries { font-family: var(--mono); font-size:0.75em; line-height: 1.6; color: var(--text-dim); padding: 6px 10px; overflow-y: auto; flex: 1; }
#log-entries::-webkit-scrollbar { width: 2px; }
#log-entries::-webkit-scrollbar-thumb { background: var(--border2); }
.log-entry { display: flex; gap: 8px; padding: 1px 0; animation: fadeIn 0.3s ease; }
@keyframes fadeIn { from { opacity: 0; transform: translateY(2px); } to { opacity: 1; transform: translateY(0); } }
.log-ts { color: var(--text-mute); white-space: nowrap; }
.log-msg.info  { color: var(--text-dim); }
.log-msg.good  { color: var(--green); }
.log-msg.warn  { color: var(--gold); }
.log-msg.error { color: var(--red); }
#panel-summary { grid-column: 1; grid-row: 2; background: var(--panel); padding: 10px; display: flex; flex-direction: column; gap: 6px; }
.summary-title { font-family: var(--mono); font-size:0.6667em; color: var(--text-mute); letter-spacing: 0.15em; text-transform: uppercase; border-bottom: 1px solid var(--border); padding-bottom: 4px; }
.summary-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 4px 8px; }
.summary-num { font-family: var(--mono); font-size:1.1667em; color: var(--cyan); line-height: 1; }
.summary-lbl { font-family: var(--mono); font-size:0.6667em; color: var(--text-mute); letter-spacing: 0.05em; }
.empty-state { display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%; gap: 8px; color: var(--text-mute); }
.empty-state .icon { font-size:2.3333em; opacity: 0.3; }
.empty-state .msg { font-family: var(--mono); font-size:0.75em; letter-spacing: 0.12em; text-transform: uppercase; }

/* ═══════════════════════════════════════════════════════
   PROFILE VIEW
═══════════════════════════════════════════════════════ */
#view-profile { background: var(--bg2); }
.prof-section { padding: 20px 24px; border-bottom: 1px solid var(--border); }
.prof-title { font-family: var(--display); font-size:0.6667em; font-weight: 500; letter-spacing: 0.3em; color: var(--gold); text-transform: uppercase; margin-bottom: 16px; display: flex; align-items: center; gap: 10px; }
.prof-title::after { content: ''; flex: 1; height: 1px; background: linear-gradient(to right, var(--border2), transparent); }
.ident-card { display: flex; align-items: center; gap: 20px; padding: 20px 24px; background: var(--panel2); border-left: 3px solid var(--cyan); }
.ident-avatar { font-size:2.6667em; color: var(--gold); text-shadow: 0 0 20px var(--gold-glow); flex-shrink: 0; width: 56px; text-align: center; }
.ident-name { font-family: var(--head); font-size:1.8333em; font-weight: 700; color: var(--text); letter-spacing: 0.08em; margin-bottom: 3px; }
.ident-ship { font-family: var(--mono); font-size:0.8333em; margin-bottom: 10px; color: var(--text-dim); }
.ident-kv-row { display: flex; gap: 24px; }
.ident-kv-val { font-family: var(--mono); font-size:1.1667em; color: var(--gold2); line-height: 1.1; }
.ident-kv-lbl { font-family: var(--mono); font-size:0.5833em; color: var(--text-mute); letter-spacing: 0.12em; text-transform: uppercase; margin-top: 2px; }
.ranks-grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 10px; }
.rank-card { background: var(--panel2); border: 1px solid var(--border); padding: 12px 14px; position: relative; overflow: hidden; }
.rank-card::before { content: ''; position: absolute; top: 0; left: 0; right: 0; height: 2px; }
.rank-card.combat::before  { background: linear-gradient(to right, var(--red), transparent); }
.rank-card.trade::before   { background: linear-gradient(to right, var(--green), transparent); }
.rank-card.explore::before { background: linear-gradient(to right, var(--cyan), transparent); }
.rank-card.empire::before  { background: linear-gradient(to right, #c09060, transparent); }
.rank-card.fed::before     { background: linear-gradient(to right, #6090c8, transparent); }
.rank-card.cqc::before     { background: linear-gradient(to right, var(--purple), transparent); }
.rank-card.exobio::before  { background: linear-gradient(to right, #60c890, transparent); }
.rank-label { font-family: var(--mono); font-size:0.5833em; color: var(--text-mute); letter-spacing: 0.15em; text-transform: uppercase; margin-bottom: 5px; }
.rank-name  { font-family: var(--head); font-size:1.0833em; font-weight: 600; color: var(--text); margin-bottom: 8px; line-height: 1.2; }
.rank-bar-wrap { height: 3px; background: var(--border); border-radius: 1px; overflow: hidden; margin-bottom: 3px; }
.rank-bar { height: 100%; border-radius: 1px; transition: width 1.2s cubic-bezier(0.4,0,0.2,1); }
.rank-card.combat .rank-bar  { background: var(--red); }
.rank-card.trade .rank-bar   { background: var(--green); }
.rank-card.explore .rank-bar { background: var(--cyan); }
.rank-card.empire .rank-bar  { background: #c09060; }
.rank-card.fed .rank-bar     { background: #6090c8; }
.rank-card.cqc .rank-bar     { background: var(--purple); }
.rank-card.exobio .rank-bar  { background: #60c890; }
.rank-pct { font-family: var(--mono); font-size:0.5833em; color: var(--text-mute); text-align: right; }
.rep-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; }
.rep-card { background: var(--panel2); border: 1px solid var(--border); padding: 14px; }
.rep-name { font-family: var(--mono); font-size:0.5833em; letter-spacing: 0.15em; text-transform: uppercase; margin-bottom: 8px; }
.rep-num  { font-family: var(--head); font-size:1.6667em; font-weight: 300; line-height: 1; margin-bottom: 4px; }
.rep-sub  { font-family: var(--mono); font-size:0.5833em; color: var(--text-mute); margin-bottom: 8px; }
.rep-track { height: 3px; background: var(--border); border-radius: 1px; overflow: hidden; }
.rep-fill  { height: 100%; border-radius: 1px; transition: width 1.2s ease; }
.rep-empire     .rep-name, .rep-empire     .rep-num { color: #c09060; }
.rep-federation .rep-name, .rep-federation .rep-num { color: #6090c8; }
.rep-alliance   .rep-name, .rep-alliance   .rep-num { color: #60c860; }
.rep-independent .rep-name, .rep-independent .rep-num { color: var(--text-dim); }
.rep-empire     .rep-fill { background: #c09060; }
.rep-federation .rep-fill { background: #6090c8; }
.rep-alliance   .rep-fill { background: #60c860; }
.rep-independent .rep-fill { background: var(--text-dim); }
.stats-cols { display: grid; grid-template-columns: repeat(5, 1fr); gap: 14px; }
.stat-block { background: var(--panel); border: 1px solid var(--border); padding: 14px; }
.stat-block-title { font-family: var(--display); font-size:0.5833em; font-weight: 500; letter-spacing: 0.2em; text-transform: uppercase; margin-bottom: 10px; padding-bottom: 6px; border-bottom: 1px solid var(--border2); }
.stat-block-title.c-cyan   { color: var(--cyan); }
.stat-block-title.c-gold   { color: var(--gold); }
.stat-block-title.c-green  { color: var(--green); }
.stat-block-title.c-red    { color: var(--red); }
.stat-block-title.c-purple { color: var(--purple); }
.mini-stat { display: flex; justify-content: space-between; align-items: baseline; padding: 4px 0; border-bottom: 1px solid rgba(19,32,48,0.5); }
.mini-stat:last-child { border-bottom: none; }
.ms-key { font-family: var(--mono); font-size:0.6667em; color: var(--text-mute); letter-spacing: 0.05em; }
.ms-val { font-family: var(--mono); font-size:0.75em; color: var(--text); text-align: right; }
#prof-no-data { display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%; gap: 12px; color: var(--text-mute); padding: 60px; }
#prof-no-data .icon { font-size:3em; opacity: 0.25; }

/* ─── DISPLAY SLIDERS ────────────────────────────────────────────── */
.opt-slider-row {
  display: flex; flex-direction: column; gap: 5px; margin-bottom: 12px;
}
.opt-slider-row:last-child { margin-bottom: 0; }
.opt-slider-header {
  display: flex; justify-content: space-between; align-items: baseline;
}
.opt-slider-label {
  font-family: var(--mono); font-size:0.75em; color: var(--text-dim); letter-spacing: 0.08em;
}
.opt-slider-val {
  font-family: var(--mono); font-size:0.75em; color: var(--cyan); letter-spacing: 0.05em; min-width: 36px; text-align: right;
}
.opt-slider {
  -webkit-appearance: none; appearance: none;
  width: 100%; height: 3px;
  background: var(--border2); border-radius: 2px; outline: none; cursor: pointer;
}
.opt-slider::-webkit-slider-thumb {
  -webkit-appearance: none; appearance: none;
  width: 12px; height: 12px; border-radius: 50%;
  background: var(--cyan); border: 2px solid var(--bg);
  box-shadow: 0 0 6px rgba(46,207,207,0.4);
  cursor: pointer; transition: box-shadow 0.15s;
}
.opt-slider::-webkit-slider-thumb:hover {
  box-shadow: 0 0 10px rgba(46,207,207,0.7);
}
.opt-slider::-webkit-slider-runnable-track {
  background: linear-gradient(to right, rgba(46,207,207,0.3) var(--pct,0%), var(--border2) var(--pct,0%));
  border-radius: 2px;
}
.opt-reset-btn {
  font-family: var(--mono); font-size:0.6667em; letter-spacing: 0.1em; text-transform: uppercase;
  color: var(--text-mute); background: transparent; border: 1px solid var(--border2);
  padding: 3px 10px; cursor: pointer; transition: all 0.15s; align-self: flex-start; margin-top: 4px;
}
.opt-reset-btn:hover { color: var(--text-dim); border-color: var(--border2); }
.opt-divider { height: 1px; background: var(--border); margin: 4px 0 12px; }
#prof-no-data .msg  { font-family: var(--mono); font-size:0.8333em; letter-spacing: 0.15em; text-transform: uppercase; }
#prof-no-data .sub  { font-family: var(--mono); font-size:0.75em; color: var(--text-mute); opacity: 0.6; }

/* ─── OPTIONS ────────────────────────────────────────────────────── */
#options-overlay { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.45); z-index: 3000; backdrop-filter: blur(2px); }
#options-overlay.open { display: block; }
#options-panel { position: fixed; top: 0; right: 0; bottom: 0; width: 300px; background: var(--panel); border-left: 1px solid var(--border2); z-index: 3001; display: flex; flex-direction: column; transform: translateX(100%); transition: transform 0.28s cubic-bezier(0.4,0,0.2,1); overflow: hidden; }
#options-panel.open { transform: translateX(0); }
#options-header { display: flex; align-items: center; justify-content: space-between; padding: 12px 16px; border-bottom: 1px solid var(--border2); background: var(--panel2); flex-shrink: 0; }
#options-close { font-family: var(--mono); font-size:0.9167em; color: var(--text-dim); background: transparent; border: none; cursor: pointer; padding: 2px 6px; transition: color 0.15s; }
#options-close:hover { color: var(--text); }
#options-body { flex: 1; overflow-y: auto; padding: 14px 16px; display: flex; flex-direction: column; gap: 20px; }
#options-body::-webkit-scrollbar { width: 3px; }
#options-body::-webkit-scrollbar-thumb { background: var(--border2); }
.opt-section-title { font-family: var(--display); font-size:0.5833em; letter-spacing: 0.25em; color: var(--gold); text-transform: uppercase; margin-bottom: 10px; padding-bottom: 5px; border-bottom: 1px solid var(--border); }
.opt-action-btn { display: flex; align-items: center; gap: 10px; width: 100%; padding: 10px 12px; background: var(--panel2); border: 1px solid var(--border2); color: var(--text); cursor: pointer; transition: border-color 0.2s, background 0.2s; text-align: left; }
.opt-action-btn:hover { border-color: var(--gold); background: var(--gold-glow); }
.opt-btn-icon { font-size:1.3333em; color: var(--gold); flex-shrink: 0; }
.opt-btn-label { font-family: var(--mono); font-size:0.8333em; color: var(--text); letter-spacing: 0.05em; }
.opt-btn-sub { font-family: var(--mono); font-size:0.6667em; color: var(--text-mute); margin-top: 2px; }
.opt-path-row { display: flex; gap: 4px; align-items: center; }
.opt-input { flex: 1; font-family: var(--mono); font-size:0.75em; color: var(--text); background: var(--panel2); border: 1px solid var(--border2); padding: 6px 8px; outline: none; transition: border-color 0.2s; }
.opt-input:focus { border-color: var(--cyan); }
.opt-input::placeholder { color: var(--text-mute); }
.opt-icon-btn { font-size:1.1667em; color: var(--text-dim); background: var(--panel2); border: 1px solid var(--border2); padding: 5px 8px; cursor: pointer; transition: color 0.15s, border-color 0.15s; flex-shrink: 0; }
.opt-icon-btn:hover { color: var(--cyan); border-color: var(--cyan); }
.opt-hint { font-family: var(--mono); font-size:0.6667em; color: var(--text-mute); margin-top: 5px; }
.opt-theme-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 6px; }
.opt-theme-swatch { display: flex; flex-direction: column; align-items: center; gap: 4px; padding: 8px 6px; background: var(--panel2); border: 1px solid var(--border2); cursor: pointer; transition: border-color 0.2s; border-radius: 2px; }
.opt-theme-swatch:hover { border-color: var(--text-dim); }
.opt-theme-swatch.active { border-color: var(--gold); }
.opt-theme-swatch span { font-family: var(--mono); font-size:0.6667em; color: var(--text-dim); }
.opt-theme-swatch.active span { color: var(--gold); }
.swatch-bar { width: 100%; height: 3px; border-radius: 1px; }
.opt-toggles { display: flex; flex-direction: column; gap: 8px; }
.opt-toggle { display: flex; align-items: center; gap: 10px; cursor: pointer; user-select: none; }
.opt-toggle input { display: none; }
.tog-track { width: 28px; height: 14px; background: var(--border2); border-radius: 7px; position: relative; transition: background 0.2s; flex-shrink: 0; }
.opt-toggle input:checked + .tog-track { background: var(--cyan); }
.tog-thumb { position: absolute; top: 2px; left: 2px; width: 10px; height: 10px; background: var(--bg); border-radius: 50%; transition: transform 0.2s; }
.opt-toggle input:checked + .tog-track .tog-thumb { transform: translateX(14px); }
.tog-lbl { font-family: var(--mono); font-size:0.75em; color: var(--text-dim); }

/* ─── DISPLAY SLIDERS ────────────────────────────────────────────── */
.sl-group { margin-bottom: 16px; }
.sl-group:last-child { margin-bottom: 0; }
.sl-group-title { font-family: var(--display); font-size:0.5833em; letter-spacing: 0.25em; color: var(--gold); text-transform: uppercase; margin-bottom: 10px; padding-bottom: 5px; border-bottom: 1px solid var(--border); }
.sl-row { display: flex; flex-direction: column; gap: 4px; margin-bottom: 10px; }
.sl-row:last-child { margin-bottom: 0; }
.sl-header { display: flex; justify-content: space-between; align-items: baseline; }
.sl-label { font-family: var(--mono); font-size:0.75em; color: var(--text-dim); letter-spacing: 0.06em; }
.sl-val { font-family: var(--mono); font-size:0.8333em; color: var(--cyan); letter-spacing: 0.04em; min-width: 42px; text-align: right; }
.sl-input {
  -webkit-appearance: none; appearance: none;
  width: 100%; height: 2px; border-radius: 1px; outline: none; cursor: pointer;
  background: linear-gradient(to right, rgba(46,207,207,0.5) var(--fill,50%), var(--border2) var(--fill,50%));
}
.sl-input::-webkit-slider-thumb {
  -webkit-appearance: none; appearance: none;
  width: 14px; height: 14px; border-radius: 50%;
  background: var(--bg); border: 2px solid var(--cyan);
  box-shadow: 0 0 8px rgba(46,207,207,0.5); cursor: pointer;
  transition: box-shadow 0.15s, border-color 0.15s;
}
.sl-input::-webkit-slider-thumb:hover { box-shadow: 0 0 14px rgba(46,207,207,0.8); border-color: var(--cyan2); }
.sl-reset { font-family: var(--mono); font-size:0.6667em; letter-spacing: 0.1em; text-transform: uppercase; color: var(--text-mute); background: transparent; border: 1px solid var(--border2); padding: 4px 12px; cursor: pointer; transition: all 0.15s; margin-top: 6px; width: 100%; }
.sl-reset:hover { color: var(--red); border-color: rgba(224,82,82,0.4); }

/* ═══════════════════════════════════════════════════════
   HISTORY VIEW
═══════════════════════════════════════════════════════ */
#view-history { background: var(--bg2); }
.history-empty { display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%; gap: 12px; color: var(--text-mute); }
.history-empty .icon { font-size: 3em; opacity: 0.25; }
.history-empty .msg { font-family: var(--mono); font-size:0.8333em; letter-spacing: 0.15em; text-transform: uppercase; }
.history-empty .sub { font-family: var(--mono); font-size:0.75em; color: var(--text-mute); opacity: 0.6; }

/* ═══════════════════════════════════════════════════════
   FIRST DISCOVERY STAR
═══════════════════════════════════════════════════════ */
@keyframes discoveryPulse {
  0%,100% { opacity: 1; text-shadow: 0 0 6px var(--gold); }
  50%      { opacity: 0.65; text-shadow: 0 0 18px var(--gold2); }
}
#tb-discovery-star,
#prof-discovery-badge,
.hist-disco-star {
  animation: discoveryPulse 2.4s ease-in-out infinite;
  cursor: default;
}
#hist-table tr:hover { background: rgba(255,255,255,0.03) !important; }
#view-history { display: flex; flex-direction: column; }
